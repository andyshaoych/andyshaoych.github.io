---
layout: post  
title: "Visual representation of Terraform plan"  
date:   2022-08-18 10:18:40 +1000  
categories: terraform graph  
tags: terraform graph Graphviz   
---
## Intro    
  https://www.terraform.io/cli/commands/graph  

  Generate a visual representation of either a configuration or execution plan.   
  The output is in the DOT format, which can be used by **GraphViz** to generate charts.   

## about Graphviz  
  https://graphviz.org/about/    

## `terraform graph` command  
  The terraform graph command is used to generate a visual representation of either a configuration or execution plan. The output is in the DOT format, which can be used by GraphViz to generate charts.
  
## export to SVG     
- `terraform graph` to `dot`  
  ```bash
    terraform graph | dot -Tsvg  > /tmp/graph01.svg   
  ```
  ```bash
    $ head /tmp/graph01.svg 
      <?xml version="1.0" encoding="UTF-8" standalone="no"?>
      <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
      "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
      <!-- Generated by graphviz version 5.0.0 (20220707.1540)
      -->
      <!-- Pages: 1 -->
      <svg width="3542pt" height="692pt"
      viewBox="0.00 0.00 3542.13 692.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 688)">
      <polygon fill="white" stroke="transparent" points="-4,4 -4,-688 3538.13,-688 3538.13,4 -4,4"/>

      ...

    $ tail /tmp/graph01.svg 
      <polygon fill="black" stroke="black" points="1489.08,-600.91 1478.93,-603.93 1488.75,-607.9 1489.08,-600.91"/>
      </g>
      <!-- [root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/random&quot;] (close) -->
      <g id="edge75" class="edge">
      <title>[root] root&#45;&gt;[root] provider[&quot;registry.terraform.io/hashicorp/random&quot;] (close)</title>
      <path fill="none" stroke="black" d="M2820.99,-659.03C2898,-648.59 3059.72,-626.65 3172.27,-611.38"/>
      <polygon fill="black" stroke="black" points="3172.88,-614.83 3182.32,-610.01 3171.94,-607.89 3172.88,-614.83"/>
      </g>
      </g>
      </svg>
  ```

## view the svg graph  
- Browser (Chrome/Safari, etc) file:///Users/andy.shao/Downloads/graph01.svg   
  ![](/assets/images/visual-terraform/2022-08-18-21-44-15.png)    

- Boxy-svg  
  ![](/assets/images/visual-terraform/2022-08-18-21-46-39.png)    
